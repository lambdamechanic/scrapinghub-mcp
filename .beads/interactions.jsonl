{"id":"scrapinghub-mcp-3g1","title":"Port scrapinghub client API typing models for MCP schemas","description":"Blocked on upstream API release with explicit type hints (remove **params). Once available, port schemas directly from scrapinghub.client.* doc surface and drop MCP-level TypedDict/Pydantic wrappers.\n","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T10:12:05.147975921+07:00","updated_at":"2025-12-23T10:12:35.818074201+07:00"}
{"id":"scrapinghub-mcp-jo1","title":"Run live integration tests in CI","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-23T17:03:15.726238993+07:00","updated_at":"2025-12-23T17:03:19.023486347+07:00"}
{"id":"scrapinghub-mcp-q0h","title":"Add scrapinghub-mcp stdio server","description":"Implement the OpenSpec change add-scrapinghub-mcp: packaging, stdio MCP server, repo-local auth config, safety gating, CI, and docs.","acceptance_criteria":"All OpenSpec requirements in openspec/changes/add-scrapinghub-mcp are implemented; packaging publishes scrapinghub-mcp with shub-mcp CLI; mutating gating + repo-local config enforced; CI runs ruff + ty; docs cover setup and safety.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-22T11:31:19.984967527+07:00","updated_at":"2025-12-23T16:27:43.648524133+07:00"}
{"id":"scrapinghub-mcp-q0h.1","title":"Scaffold packaging + tooling","description":"Create pyproject.toml with uv-build backend, project metadata, deps (python-scrapinghub, fastmcp v2, structlog), dependency-groups (lint/dev), ruff + ty config; add .python-version (\u003e=3.11), uv.lock, and a repo hook folder with a git hook that runs ruff format/check (document core.hooksPath).","acceptance_criteria":"pyproject.toml includes uv-build build-system, project metadata, runtime deps, dependency-groups; ruff + ty config present; .python-version set to \u003e=3.11; uv.lock committed; repo hook folder includes a git hook running ruff format/check.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:01.706273289+07:00","updated_at":"2025-12-22T11:55:24.657631577+07:00","closed_at":"2025-12-22T11:55:24.657631577+07:00","close_reason":"Closed","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.1","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:01.707151217+07:00","created_by":"daemon"}]}
{"id":"scrapinghub-mcp-q0h.2","title":"Implement stdio MCP server + shub-mcp CLI","description":"Implement FastMCP v2 stdio server and expose shub-mcp entry point, including structlog wiring.","acceptance_criteria":"Running shub-mcp starts a FastMCP v2 stdio server; entry point defined in pyproject; server registers at least one tool surface for scrapinghub API; structlog used for startup/shutdown logs; tests cover CLI startup and tool registration.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:01.743070093+07:00","updated_at":"2025-12-22T13:36:54.427723162+07:00","closed_at":"2025-12-22T13:36:54.427723162+07:00","close_reason":"Closed","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.2","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:01.743952624+07:00","created_by":"daemon"}]}
{"id":"scrapinghub-mcp-q0h.3","title":"Add repo-local auth config loader","description":"Load API key from scrapinghub-mcp.toml using tomllib; support package root or repo root resolution; support auth.env_file inclusion for .env-style files.","acceptance_criteria":"Server reads API key via tomllib from scrapinghub-mcp.toml; supports package-root then repo-root lookup; auth.env_file inclusion loads env vars; missing/empty key fails startup with clear error linking to https://github.com/lambdamechanic/scrapinghub-mcp; tests cover config resolution, env file inclusion, and error messaging.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:01.779504198+07:00","updated_at":"2025-12-22T15:02:12.161414218+07:00","closed_at":"2025-12-22T15:02:12.161414218+07:00","close_reason":"Closed","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.3","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:01.780375598+07:00","created_by":"daemon"}]}
{"id":"scrapinghub-mcp-q0h.4","title":"Implement mutating API safety gate","description":"Split mutating vs non-mutating scrapinghub API calls using an explicit mapping loaded from scrapinghub-mcp.mutations.yaml; require --allow-mutate to enable mutating operations. Derive the mutating operations list from the SDK and commit the YAML file.","acceptance_criteria":"Default run exposes only non-mutating operations; --allow-mutate enables full API; gating enforced at runtime using explicit mapping from scrapinghub-mcp.mutations.yaml; mutations YAML file is created/populated from SDK-derived list; tests cover gating behavior and mapping loading.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:01.81888889+07:00","updated_at":"2025-12-22T16:10:20.424937558+07:00","closed_at":"2025-12-22T16:10:20.424937558+07:00","close_reason":"Closed","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.4","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:01.820045018+07:00","created_by":"daemon"}]}
{"id":"scrapinghub-mcp-q0h.5","title":"Wire structlog logging","description":"Add structlog configuration and use it for server logs.","acceptance_criteria":"Server startup/shutdown and config errors are logged via structlog.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:01.872864372+07:00","updated_at":"2025-12-22T11:41:41.627597161+07:00","closed_at":"2025-12-22T11:41:41.627597161+07:00","close_reason":"Bundled into stdio MCP server task","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.5","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:01.874898159+07:00","created_by":"daemon"}]}
{"id":"scrapinghub-mcp-q0h.6","title":"Add GitHub workflow for ruff + ty","description":"Add CI workflow that runs ruff format --check, ruff check, and ty via uv.","acceptance_criteria":"GitHub workflow runs on push/PR and executes ruff format --check, ruff check ., and ty with uv.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:01.953531487+07:00","updated_at":"2025-12-22T13:40:26.250321331+07:00","closed_at":"2025-12-22T13:40:26.250321331+07:00","close_reason":"Closed","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.6","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:01.955406294+07:00","created_by":"daemon"}]}
{"id":"scrapinghub-mcp-q0h.7","title":"Document setup, config, and safety flag","description":"Write README/setup docs covering install, scrapinghub-mcp.toml config location/format (including auth.env_file), mutations mapping YAML file, --allow-mutate safety flag, git hook setup, and usage examples; include CI expectations.","acceptance_criteria":"Docs describe scrapinghub-mcp.toml format/path (package root or repo root), env file inclusion, mutations mapping YAML file location, safety flag behavior, git hook setup, CI checks, and example shub-mcp usage.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:02.035248099+07:00","updated_at":"2025-12-23T16:29:36.46389017+07:00","closed_at":"2025-12-23T16:29:36.46389017+07:00","close_reason":"Completed","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.7","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:02.037204159+07:00","created_by":"daemon"}]}
{"id":"scrapinghub-mcp-q0h.8","title":"Add minimal tests for config + gating","description":"Add tests for CLI startup, config resolution, env file inclusion, and mutating gate behavior; add a live integration test (requires auth key) that exercises all non-mutating endpoints.","acceptance_criteria":"Tests cover missing/invalid config error messaging, env file inclusion, --allow-mutate gating behavior, and non-mutating tool registration; live test runs all non-mutating endpoints with an auth key; tests run with uv run pytest (if pytest is added).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T11:32:02.436855359+07:00","updated_at":"2025-12-23T16:54:16.656891563+07:00","closed_at":"2025-12-23T16:54:16.656891563+07:00","close_reason":"Completed","dependencies":[{"issue_id":"scrapinghub-mcp-q0h.8","depends_on_id":"scrapinghub-mcp-q0h","type":"parent-child","created_at":"2025-12-22T11:32:02.4375067+07:00","created_by":"daemon"},{"issue_id":"scrapinghub-mcp-q0h.8","depends_on_id":"scrapinghub-mcp-q0h.2","type":"blocks","created_at":"2025-12-22T11:32:02.438279953+07:00","created_by":"daemon"},{"issue_id":"scrapinghub-mcp-q0h.8","depends_on_id":"scrapinghub-mcp-q0h.3","type":"blocks","created_at":"2025-12-22T11:32:02.439021892+07:00","created_by":"daemon"},{"issue_id":"scrapinghub-mcp-q0h.8","depends_on_id":"scrapinghub-mcp-q0h.4","type":"blocks","created_at":"2025-12-22T11:32:02.439790181+07:00","created_by":"daemon"}]}
